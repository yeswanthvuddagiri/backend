"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.textEncodingPolyfill = void 0;
if (typeof TextDecoder !== 'function' ||
    typeof TextEncoder !== 'function') {
    const global = (typeof globalThis === 'object' &&
        (globalThis === null || globalThis === void 0 ? void 0 : globalThis.Object) === Object &&
        globalThis) ||
        Function('return this')();
    Object.assign(global, textEncodingPolyfill());
}
function textEncodingPolyfill() {
    class TextEncoder {
        encode(string) {
            return Buffer.from(string, 'utf8');
        }
    }
    class TextDecoder {
        decode(bytes) {
            const str = Buffer.from(bytes).toString('utf8');
            return str.slice(+str.startsWith('\ufeff'));
        }
    }
    return { TextDecoder, TextEncoder };
}
exports.textEncodingPolyfill = textEncodingPolyfill;
//# sourceMappingURL=textencoder-polyfill.js.map